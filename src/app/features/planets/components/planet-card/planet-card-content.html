<!-- Corner decorations -->
<div class="absolute top-3 left-3 w-2 h-2 border-l border-t border-cyan-400/40 transition-all duration-500 group-hover:border-cyan-400/80 group-hover:w-3 group-hover:h-3 corner-decoration" aria-hidden="true"></div>
<div class="absolute top-3 right-3 w-2 h-2 border-r border-t border-cyan-400/40 transition-all duration-500 group-hover:border-cyan-400/80 group-hover:w-3 group-hover:h-3 corner-decoration" aria-hidden="true"></div>
<div class="absolute bottom-3 left-3 w-2 h-2 border-l border-b border-cyan-400/40 transition-all duration-500 group-hover:border-cyan-400/80 group-hover:w-3 group-hover:h-3 corner-decoration" aria-hidden="true"></div>
<div class="absolute bottom-3 right-3 w-2 h-2 border-r border-b border-cyan-400/40 transition-all duration-500 group-hover:border-cyan-400/80 group-hover:w-3 group-hover:h-3 corner-decoration" aria-hidden="true"></div>

<!-- Background effects -->
<div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none" aria-hidden="true">
  <div class="absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/40 to-transparent"></div>
  <div class="absolute left-1/2 top-0 h-full w-px bg-gradient-to-b from-transparent via-cyan-400/20 to-transparent"></div>
</div>

<!-- Main content - Default state (only planet and title) -->
<main class="relative z-20 flex flex-col h-full p-6 group-hover:hidden">
  <!-- Planet sphere centered -->
  <section class="flex-1 flex items-center justify-center">
    <figure [attr.aria-label]="'Visual representation of ' + (planet().name || 'unknown planet')">
      <app-planet-sphere 
        [planet]="planet()" 
        size="medium">
      </app-planet-sphere>
    </figure>
  </section>
  
  <!-- Title at bottom -->
  <header class="text-center mt-4">
    <hgroup class="text-center" [style.view-transition-name]="titleTransitionName()">
      <h3 class="font-orbitron text-lg sm:text-xl font-bold text-cyan-400 uppercase tracking-widest relative drop-shadow-lg transition-all duration-500 before:content-[''] before:absolute before:bottom-[-0.5rem] before:left-1/2 before:w-16 before:h-0.5 before:bg-gradient-to-r before:from-transparent before:via-cyan-400 before:to-transparent before:transform before:-translate-x-1/2 before:opacity-0 before:shadow-sm before:shadow-cyan-400/50 before:transition-all before:duration-700 before:ease-in-out group-hover:before:animate-pulse group-hover:before:scale-x-125 group-hover:before:opacity-100 group-hover:before:via-cyan-300 group-hover:text-cyan-300"
          [attr.id]="'planet-info-' + (planet().name || 'unknown')"
          style="text-shadow: 0 0 10px rgb(34 211 238 / 0.8), 0 0 20px rgb(34 211 238 / 0.4), 0 0 30px rgb(34 211 238 / 0.4), 0 2px 4px rgb(0 0 0 / 0.5); filter: brightness(1.2);">
        {{ planet().name || 'Loading...' }}
      </h3>
    </hgroup>
  </header>
</main>

<!-- Hover state (planet info and data tables) -->
<main class="relative z-20 hidden group-hover:flex flex-col h-full p-6">
  <!-- Planet sphere and title -->
  <header class="text-center mb-4">
    <figure class="mb-3" [attr.aria-label]="'Visual representation of ' + (planet().name || 'unknown planet')">
      <app-planet-sphere 
        [planet]="planet()" 
        size="small">
      </app-planet-sphere>
    </figure>
    
    <hgroup class="text-center" [style.view-transition-name]="titleTransitionName()">
      <h3 class="font-orbitron text-base sm:text-lg font-bold text-cyan-400 uppercase tracking-widest relative drop-shadow-lg transition-all duration-500"
          [attr.id]="'planet-info-' + (planet().name || 'unknown')"
          style="text-shadow: 0 0 10px rgb(34 211 238 / 0.8), 0 0 20px rgb(34 211 238 / 0.4), 0 0 30px rgb(34 211 238 / 0.4), 0 2px 4px rgb(0 0 0 / 0.5); filter: brightness(1.2);">
        {{ planet().name || 'Loading...' }}
      </h3>
    </hgroup>
  </header>

  <!-- Data sections -->
  <section class="space-y-3 flex-1 overflow-y-auto" aria-label="Planet data">
    @if (showExpandedData(); as sections) {
      @for (section of sections; track section.title) {
        <app-data-table 
          [section]="section"
          [variant]="'card'">
        </app-data-table>
      }
    } @else {
      <!-- Placeholder for cards without expanded data -->
      <div class="flex items-center justify-center opacity-60 h-full" role="status" aria-label="Loading planet data">
        <div class="text-center space-y-2">
          <div class="h-2 w-20 bg-gradient-to-r from-cyan-400/20 via-cyan-400/40 to-cyan-400/20 rounded animate-pulse" role="presentation"></div>
          <div class="h-2 w-16 bg-gradient-to-r from-cyan-400/20 via-cyan-400/40 to-cyan-400/20 rounded animate-pulse delay-75" role="presentation"></div>
          <div class="h-2 w-24 bg-gradient-to-r from-cyan-400/20 via-cyan-400/40 to-cyan-400/20 rounded animate-pulse delay-150" role="presentation"></div>
        </div>
      </div>
    }
  </section>
</main>

<!-- Screen reader content -->
<span class="sr-only">
  Press Enter or Space to view detailed information about {{ planet().name || 'this planet' }}
</span>
